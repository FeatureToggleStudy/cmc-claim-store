buildscript {
  dependencies {
    classpath group: 'org.yaml', name: 'snakeyaml', version: '1.24'
  }
}

plugins {
  id 'jacoco'
}

def versionYaml = new org.yaml.snakeyaml.Yaml().load(new File("ccd-adapter/VERSION.yaml").newInputStream())
def ccdDomainVersion = versionYaml.TAG

apply plugin: 'net.ltgt.apt'

dependencies {
  compile project(':domain-model')

  compile group: 'uk.gov.hmcts.reform.cmc', name: 'ccd-domain', version: ccdDomainVersion
  compile group: 'org.springframework.boot', name: 'spring-boot-starter'
  annotationProcessor group: 'org.projectlombok', name: 'lombok', version: '1.18.8'
  compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.6'
  compile group: 'com.google.guava', name: 'guava', version: '20.0'

  testCompile group: 'org.springframework.boot', name: 'spring-boot-starter-test'
  testCompile group: 'junit', name: 'junit', version: '4.12'
  testCompile group: 'org.assertj', name: 'assertj-core', version: '3.12.2'
  testCompile project(':domain-sample-data')
}

configurations {
  testArtifacts.extendsFrom testRuntime
}

task testJar (type: Jar) {
  classifier "test"
  from sourceSets.test.output
}

artifacts {
  testArtifacts testJar
}
